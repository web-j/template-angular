<div class="container-child">
    <mat-toolbar class="mat-elevation-z6">
        <mat-toolbar-row class="toolbar-list">
            <a *ngIf="!edit" class="btn-toolbar" mat-icon-button (click)="back()">
                <mat-icon class="icon-toolbar">arrow_back</mat-icon>
                <span>Voltar</span>
            </a>

            <a *ngIf="edit" class="btn-toolbar" mat-icon-button (click)="cancel()">
                <mat-icon class="icon-toolbar">arrow_back</mat-icon>
                <span>Cancelar</span>
            </a>
        </mat-toolbar-row>
    </mat-toolbar>

    <div class="container-below">
        <mat-card class="mat-elevation-z4">
            <mat-card-header class="card-header">
                <div mat-card-avatar class="card-icon mat-elevation-z4">
                    <mat-icon class="icon">person_pin</mat-icon>
                </div>
                <mat-card-title>Usuário</mat-card-title>
                <mat-card-subtitle *ngIf="!edit">Cadastro</mat-card-subtitle>
                <mat-card-subtitle *ngIf="edit">Atualização</mat-card-subtitle>
            </mat-card-header>

            <mat-card-content id="card-content-dorm">
                <form class="row" #form="ngForm">
                    <div class="margin-title-credential col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <mat-card-subtitle>Informações Profissionais</mat-card-subtitle>
                    </div>

                    <mat-form-field class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <input matInput #name="ngModel" name="name" [(ngModel)]="obj.name" required
                            placeholder="Informe o Nome">
                        <mat-error *ngIf="name.errors?.required">Este campo é
                            <strong>Obrigatório</strong></mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <input matInput name="sirname" [(ngModel)]="obj.sirname" placeholder="Informe o Sobrenome">
                    </mat-form-field>

                    <mat-form-field class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <input matInput #email="ngModel" name="email" [(ngModel)]="obj.email" required
                            placeholder="Informe o Email" pattern="^([\w\.\-]+)@([\w\-]+)((\.(\w){2,3})+)$">
                        <mat-error *ngIf="email.errors?.required">Este campo é
                            <strong>Obrigatório</strong></mat-error>
                        <mat-error *ngIf="email.errors?.pattern">Este e-mail é
                            <strong>Inválido</strong></mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <input matInput #phoneNumber="ngModel" name="phoneNumber" [(ngModel)]="obj.phoneNumber" mask="(00)00000-0000"
                            placeholder="Informe o número corporativo">
                        <mat-error *ngIf="phoneNumber.errors?.mask">Este número é
                            <strong>Inválido</strong></mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <mat-label>Selecione o tipo de acesso do colaborador</mat-label>
                        <mat-select #accessRole="ngModel" name="accessRole" [(ngModel)]="obj.accessRole" required>
                            <mat-option *ngFor="let item of roles" [value]="item.value">
                                {{ item.name }}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="accessRole.errors?.required">Este campo é
                            <strong>Obrigatório</strong></mat-error>
                    </mat-form-field>

                    <div class="margin-title-credential col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <mat-card-subtitle>Credenciais de Acesso</mat-card-subtitle>
                    </div>

                    <mat-form-field class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <input matInput #username="ngModel" name="username" [(ngModel)]="obj.username" required
                            placeholder="Nome de Usuário">
                        <mat-error *ngIf="username.errors?.required">Este campo é
                            <strong>Obrigatório</strong></mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <input type="password" matInput #password="ngModel" name="password" [(ngModel)]="obj.password"
                            required placeholder="Senha">
                        <mat-error *ngIf="password.errors?.required">Este campo é
                            <strong>Obrigatório</strong></mat-error>
                    </mat-form-field>
                </form>
            </mat-card-content>

            <mat-card-actions *ngIf="!edit" class="row end-xs card-actions">
                <button mat-raised-button color="primary" [disabled]="!form.form.valid"
                    (click)="saveOrUpdate()">Salvar</button>
            </mat-card-actions>

            <mat-card-actions *ngIf="edit" class="row end-xs card-actions">
                <button mat-raised-button color="primary" [disabled]="!form.form.valid"
                    (click)="saveOrUpdate()">Atualizar</button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>